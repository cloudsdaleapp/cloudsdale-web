@-webkit-keyframes slideInRainbar
  0%
    left: 100%
  80%
    left: -5%
  100%
    left: 0

@-webkit-keyframes appearCloudTrigger
  0%
    +opacity(0)
    -webkit-transform: scale(.5)
  60%
    +opacity(1)
    -webkit-transform: scale(1.1)
  100%
    +opacity(1)
    -webkit-transform: scale(1)
    

.cloud-bar
  float: left
  position: fixed
  bottom: 10px
  right: 0
  width: auto
  padding: 0
  z-index: 998
  overflow: visible
  height: 70px
  .cloud-bar-rainbar
    position: absolute
    right: 0
    left: 0
    width: auto
    -webkit-animation-name: slideInRainbar
    -webkit-animation-duration: .9s
    -webkit-animation-fill-mode: backwards
    height: 10px
    +border-radius(10px 0 0 10px)
    +opacity(.8)
    &:nth-child(1)
      -webkit-animation-delay: .13s
      background-color: rgb(220,38,0)
      margin-left: 30px
      top: 5px
    &:nth-child(2)
      -webkit-animation-delay: .07s
      background-color: rgb(252,136,0)
      margin-left: 20px
      top: 15px
    &:nth-child(3)
      -webkit-animation-delay: .01s
      background-color: rgb(255,230,0)
      margin-left: 10px
      top: 25px
    &:nth-child(4)
      -webkit-animation-delay: .04s
      background-color: rgb(128,206,0)
      margin-left: 10px
      top: 35px
    &:nth-child(5)
      -webkit-animation-delay: .10s
      background-color: rgb(0,165,255)
      margin-left: 20px
      top: 45px
    &:nth-child(6)
      -webkit-animation-delay: .16s
      background-color: rgb(105,70,255)
      margin-left: 30px
      top: 55px
    
    
  &:after
    content: "."
    display: block
    clear: both
    visibility: hidden
    line-height: 0
    height: 0
  
  ul.cloud-list
    display: block
    position: relative
    list-style: none
    float: right
    margin: 0
    padding: 0 60px 0 40px !important
    max-height: 70px
    min-height: 70px

    li.cloud-trigger
      z-index: 999
      position: relative
      float: left
      width: 66px
      height: 66px
      +transition(all 0.15s ease-in-out)
      +border-radius(35px)
      overflow: hidden
      border: 2px rgba(50,50,50,0.5) solid
      margin-left: 15px
      
      -webkit-animation-name: appearCloudTrigger
      -webkit-animation-duration: .5s
      -webkit-animation-timing-function: ease-in-out
      -webkit-animation-delay: 1s
      -webkit-animation-fill-mode: backwards
      +opacity(1)
      
      @for $i from 1 through 10
        &:nth-child(#{$i})
          -webkit-animation-delay: .1s * $i + 1
          
      
      &:hover
        +box-shadow(0,0,20px,rgba(255,255,255,1))
      
      span.cloud-notification
        position: absolute
        z-index: 2
        font-weight: bold
        +border-radius(8px)
        background: #D00000
        border: 1px solid black
        padding: 0 0
        font-size: 10px
        line-height: 16px
        min-height: 16px
        min-width: 16px
        position: absolute
        text-align: center
        top: 0px
        right: 0px
        color: white
        pointer-events: none
        
        
      &.active
        //border-color: rgba(150,150,150,1)
        a
          span.cloud-notification
            display: none
        
      &:hover
      
      .bg-image
        +transition(all 0.15s ease-in-out)
        +border-radius(35px)
        overflow: hidden
        position: absolute
        top: 0
        bottom: 0
        width: 100%
        background-position: center center
        background-size: 66px 66px
        background-color: #4C4C4C !important
        z-index: -1
      
      a
        width: 66px
        height: 66px
        float: left
        overflow: hidden
        &:hover
          text-decoration: none


// CHAT WRAPPER
           
body
                
  @media screen and (min-width: 0px) and (max-width: 1135px)
    .cloud-wrapper
      z-index: 997
      width: 386px
      right: 0
      left: auto
      overflow: visible
      .cloud-container
        background: #4C4C4C image-url("bg-noise.png") right top repeat
        overflow: hidden
        +box-shadow(-2px,0,5px,rgba(0,0,0,.4))
        border-left: 1px solid rgba(50,50,50,.7)
        .cloud-toolbar
          margin: 0
          background: #4C4C4C image-url("bg-noise.png") right top repeat
          header
            margin: 0 10px
            color: #CCCCCC
            text-shadow: -1px -1px 1px rgba(0,0,0,.5)
            a
              &.closex
                background-image: image-url("icons/iconic/gray_light/move_horizontal_alt2_12x12.png")
              &.cloud
                background-image: image-url("icons/iconic/gray_light/cloud_16x10.png")
          .ytshadow
            display: none
        .cloud-extras-wrapper
          background: #4C4C4C image-url("bg-noise.png") right top repeat
          margin: 0
          top: 22px
          border-bottom: rgba(255,255,255,.3) solid 1px
          +box-shadow(0,2px,3px,rgba(0,0,0,.2))
          a.expand-trigger
            color: rgba(255,255,255,.3)
            &:hover
              color: rgba(255,255,255,.6)
        .cloud-chat-wrapper
          margin: 0 10px
          .ytshadow
            display: none
          .chat-messages
            .chat-message
              position: relative
              padding: 0 7px

              header.chat-message-head
                span.sender
                  a
                    color: #CCCCCC
                    text-shadow: -1px -1px 1px rgba(0,0,0,.5)
                    &:hover
                      color: #6CF
                      text-shadow: -1px -1px 1px rgba(0,0,0,.5)
                span.metadata
                  color: #CCCCCC
                  text-shadow: -1px -1px 1px rgba(0,0,0,.5)
                  
              article.chat-message-content
                background: transparent
                +box-shadow(0,0,0,#000)
                p
                  color: #B3B3B3
                  text-shadow: -1px -1px 1px rgba(0,0,0,.3)
            
          form.chat-form
            .chat-input
              textarea
                color: #CCCCCC
                //background-color: rgba(255,255,255,.5)
          
          
  @media screen and (min-width: 1136px)
    .cloud-wrapper
      top: 63px
      right: 0px
      bottom: 63px
      .cloud-container
        .cloud-toolbar
          margin: 0
          background: #F8F8F8 image-url("bg-noise.png") repeat 0px 0px fixed
          header
            margin: 0 10px
        .cloud-extras-wrapper
          margin: 0
          background: #F8F8F8 image-url("bg-noise.png") repeat 0px 0px fixed
          border-bottom: rgba(255,255,255,.9) solid 1px
          +box-shadow(0,2px,3px,rgba(0,0,0,.2))
          a.expand-trigger
            color: rgba(0,0,0,.3)
            &:hover
              color: rgba(0,0,0,.6)
        .cloud-chat-wrapper
          top: 50px
          margin: 0 20px 0 20px


.cloud-wrapper
  top: 53px
  right: 0px
  bottom: 53px
  left: 753px
  overflow: hidden
  position: fixed
  pointer-events: none
  
  .cloud-container
    pointer-events: all
    border-bottom: none
    position: absolute
    display: none
    top: 0
    bottom: 0
    left: 0
    right: 0
    width: auto
    
    &.active
      display: block
    
    .cloud-toolbar
      height: 24px
      position: absolute
      top: 0
      left: 0
      right: 0
      overflow: hidden
      z-index: 100
      
      header
        font-size: 14px
        line-height: 24px
        color: #333333
        text-shadow: rgba(255,255,255,0.4) 0px 1px 2px
        cursor: default
        font-weight: bold
          
        span.usercount
          font-weight: bold
          margin-left: 15px
          text-align: center
          padding-left: 15px
          font-size: 12px
          background: image-url("icons/iconic/gray_dark/user_9x12.png") no-repeat 0px 1px
      
        a
          text-align: center
          background: black
          float: right
          margin-left: 3px
          width: 24px
          height: 24px
          background: transparent center center no-repeat
          cursor: pointer
          &:active
            background-position: 50% 60%
          &.closex
            background-image: image-url("icons/iconic/gray_dark/move_horizontal_alt2_12x12.png")
          &.cloud
            background-image: image-url("icons/iconic/gray_dark/cloud_16x10.png")
    
    .cloud-extras-wrapper
      position: absolute
      top: 24px
      height: 24px
      left: 0
      right: 0
      z-index: 99
      
      &.expanded
        min-height: 200px
        ul.cloud-users-list
          display: block
        a.expand-trigger
          &::after
            content: "▲"
      
      a.expand-trigger
        left: 1px
        right: 1px
        position: absolute
        height: 24px
        line-height: 24px
        font-size: 12px
        text-align: center
        letter-spacing: .2em
        font-weight: bold
        +transition(color .3s)
        bottom: 0
        &::after
          content: "▼"
        &:hover
          text-decoration: none
            

      ul.cloud-users-list
        display: none
        position: absolute
        bottom: 24px
        top: 0
        left: 0
        right: 0
        list-style: none inside
        margin: 0
        overflow: auto
        padding-top: 10px
        li
          float: left
          margin-left: 10px
          margin-bottom: 10px
          height: 40px
          width: 40px
          a
            float: left
            margin: 0
            padding: 0
            img
              margin: 0
              padding: 0
              max-height: 40px
              max-width: 40px
              float: left
              
      h6
        text-align: center
        line-height: 394px
    
    .cloud-chat-wrapper
      position: absolute
      overflow: hidden
      top: 48px
      bottom: 0
      right: 0
      left: 0
      
      .chat-messages
        position: absolute
        top: 0px
        bottom: 44px
        width: 100%
        overflow-x: hidden
        overflow-y: scroll
          
        .chat-message
          position: relative
          padding: 0 7px

          img
            width: 40px
            height: 40px
            float: left
            margin-left: 3px
            margin-top: 28px
            background: #E6E6E6
            border: none
            -webkit-box-shadow: -1px 1px 3px rgba(0, 0, 0, .30)
            -moz-box-shadow: -1px 1px 3px rgba(0, 0, 0, .30)
            box-shadow: -1px 1px 3px rgba(0, 0, 0, .30)
            

          header.chat-message-head
            padding-top: 3px
            padding-bottom: 3px
            padding-left: 56px
            &:first-child 
              border-top: none
            span
              font-weight: bold
            span.sender
              a
                color: #191919
                text-shadow: 1px 1px 1px rgba(255,255,255,0.9)
                &:hover
                  text-decoration: none
                  color: #6CF
                  text-shadow: 1px 1px 1px rgba(255,255,255,0.9)
            span.metadata
              display: none
              float: right
              font-size: 11px
              margin-right: 12px
              color: #191919
              text-shadow: 1px 1px 2px rgba(255,255,255,0.3)
              +opacity(0.9)
          article.chat-message-content
            min-height: 45px
            margin-left: 55px
            margin-right: 10px
            margin-bottom: 5px
            padding: 0 5px
            p
              font-size: 13px
              line-height: 15px
              padding: 2px 0 0 0
              margin-bottom: 10px
              line-height: 1.7em
              word-wrap: break-word
              text-shadow: rgba(255,255,255,0.3) 0px 1px 1px
              color: #191919

          &:hover
            .chat-message-head
              span.metadata
                display: block
    
      form.chat-form
        position: absolute
        margin: 0
        padding: 0
        bottom: 0
        width: 100%
        
        .chat-input
          position: relative
          margin: 0 25px 9px 0px
          float: none
          textarea
            width: 100%
            padding: 3px 3px 3px 20px
            font-size: 12px
            resize: none
            border: none
            min-height: 18px
            max-height: 72px
            overflow-y: auto !important
            overflow-x: hidden !important
            height: 18px
            color: #404040
            resize: none
            -webkit-border-radius: 3px 3px 3px 3px
            -moz-border-radius: 3px 3px 3px 3px
            border-radius: 3px 3px 3px 3px
            background: rgba(0,0,0,0.05) image-url("icons/tools/comment.png") 2px 5px no-repeat
            border: rgba(0,0,20,0.2) solid 1px
            &:focus
              background: rgba(255,255,255,0.05) image-url("icons/tools/comment.png") 2px 5px no-repeat
              -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, .1)
              -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, .1)
              box-shadow: inset 0 1px 3px rgba(0, 0, 0, .1)
      
      
      