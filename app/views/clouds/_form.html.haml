= form_for @cloud, :validate => true, multipart: true, html: { class: 'form-horizontal' } do |f|
  .page-header
    %h1= "#{action_name}".capitalize + " Cloud"
    %ul.nav.nav-tabs{ data: { tabs: :tabs } }
      %li.active= link_to "General", "#general", data: { toggle: "tab" }
      %li= link_to "Avatar", "#avatar", data: { toggle: "tab" }
      %li= link_to "Security", "#security", data: { toggle: "tab" }
      
  .row
    .span16
      .tab-content#cloud-tab-content
        .tab-pane#general.active
          %fieldset
            .control-group
              = f.label :name, "Name"
              .controls= f.text_field :name, :class => 'xlarge'
            .control-group
              = f.label :description, "Description"
              .controls
                = f.text_area :description
                
        .tab-pane#avatar
          %fieldset.avatarupload
            .control-group
              = f.label :remote_avatar_url, "URL", class: 'control-label'
              .controls
                .input-prepend
                  %span.add-on.active
                    = radio_button_tag :avatar_from, "url", :selected => true
                  = f.text_field :remote_avatar_url, class: 'span3'
            .control-group
              = f.label :avatar, "File"
              .controls
                .input-prepend
                  %span.add-on
                    = radio_button_tag :avatar_from, "file"
                  = f.file_field :avatar, :class => 'disabled'
                .help-inline
                  %strong= "Note:"
                  = "You can upload any size of avatar though cloudsdale will scale it for you."
                  
        .tab-pane#security
          %fieldset.security
            .control-group
              .controls
                %label.checkbox{ for: :cloud_locked }
                  = f.check_box :locked
          
                  %span
                    %strong Lock -
                    and requires people to request permission to join or be personally invited.

                %label.checkbox{ for: :cloud_hidden }
                  = f.check_box :hidden
                  %span
                    %strong Hide -
                    cloud will not listed and can only be made visible through personal invite.
                      
            .control-group
                  
      %fieldset.action-wrapper
        .form-actions
          - unless @cloud.new_record?
            - if can? :destroy, @cloud
              = link_to "Remove", cloud_path(@cloud), :method => :delete, :class => 'btn error'
          = f.submit "Save", :disable_with => 'Saving...', :class => 'btn btn-primary'
