= form_for @cloud, :validate => true, multipart: true do |f|
  .page-header
    %h1= "#{action_name}".capitalize + " Cloud"
    %ul.nav.nav-tabs{ data: { tabs: :tabs } }
      %li.active= link_to "General", "#general", data: { toggle: "tab" }
      %li= link_to "Avatar", "#avatar", data: { toggle: "tab" }
      %li= link_to "Security", "#security", data: { toggle: "tab" }
      
  .row
    .span16
      .tab-content#cloud-tab-content
        .tab-pane#general.active
          %fieldset
            .clearfix
              = f.label :name, "Name"
              .input= f.text_field :name, :class => 'xlarge'
            .clearfix
              = f.label :description, "Description"
              .input
                = f.text_area :description
                
        .tab-pane#avatar
          %fieldset.avatarupload
            .clearfix
              = f.label :remote_avatar_url, "URL"
              .input
                .input-prepend
                  .add-on.active
                    = radio_button_tag :avatar_from, "url", :selected => true
                  = f.text_field :remote_avatar_url
            .clearfix
              = f.label :avatar, "File"
              .input
                .input-prepend
                  .add-on
                    = radio_button_tag :avatar_from, "file"
                  = f.file_field :avatar, :class => 'disabled'
                .help-inline
                  %strong= "Note:"
                  = "You can upload any size of avatar though cloudsdale will scale it for you."
                  
        .tab-pane#security
          %fieldset.security
            .clearfix
              .input
                %ul.inputs-list
                  %li
                    %label{ for: :cloud_locked }
                      = f.check_box :locked
                
                      %span
                        %strong Lock -
                        and requires people to request permission to join or be personally invited.
                  
                  %li
                    %label{ for: :cloud_hidden }
                      = f.check_box :hidden
                      %span
                        %strong Hide -
                        cloud will not listed and can only be made visible through personal invite.
                      
            .clearfix
                  
      %fieldset
        .actions
          - unless @cloud.new_record?
            - if can? :destroy, @cloud
              = link_to "Remove", cloud_path(@cloud), :method => :delete, :class => 'btn error'
          = f.submit "Save", :disable_with => 'Saving...', :class => 'btn primary'
